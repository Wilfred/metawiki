<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>WikiEval - A truly editable website</title>

        <link rel="stylesheet" href="/serve/css/codemirror.css">
    </head>
    <body>
        <div id="content">
            <p>If you can see this, JS isn't available. Please switch it
                on, it's fundamental to what we're doing here.
            </p>

            <p>If JS is available, we've crashed. Please take a look
                at your browser console and consider
                <a href="https://github.com/Wilfred/wikieval/issues/new">filing a bug</a>.
            </p>
        </div>

        <script type="text/template" id="editor-template">
            <h2>{{heading}}</h2>
            <form>
                <input type="text" name="path" value="{{path}}">
                <select name="mimeType">
                    <!-- this should be a database value, not hard-coded. -->
                    <option value="text/x-markdown" {{#ifEqual mimeType "text/x-markdown"}}selected{{/ifEqual}}>
                        Markdown
                    </option>
                    <option value="application/javascript" {{#ifEqual mimeType "application/javascript"}}selected{{/ifEqual}}>
                        JavaScript
                    </option>
                </select>
                <textarea id="editor">{{content}}</textarea>
                <button class="eval-contents">Execute</button>
                <input type="submit" value="Save">
            </form>
        </script>

        <script src="/serve/js/codemirror/codemirror.js"></script>
        <script src="/serve/js/codemirror/javascript.js"></script>
        <script src="/serve/js/routie/routie.js"></script>
        <script src="/serve/js/jquery/jquery.js"></script>
        <script src="/serve/js/marked/marked.js"></script>
        <script src="/serve/js/handlebars/handlebars.js"></script>

        <script src="/serve/js/wikieval/app.js"></script>

    </body>
</html>
